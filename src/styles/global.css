@import "tailwindcss";

.dark { color-scheme: dark; }
.dark body { background-color: #111827; }
.dark header { background-color: #1f2937; border-color: #374151; }
.dark #categories-btn span, .dark #delete-mode-btn span { color: #e5e7eb; }
.dark #categories-btn:hover, .dark #delete-mode-btn:hover { background-color: #374151; }
.dark .task-item { background-color: #1f2937; }
.dark .task-item:hover { background-color: #374151; }
.dark .task-item span { color: #e5e7eb; }
.dark #empty-state { color: #4b5563; }
.dark h1, .dark h2, .dark h3 { color: #f3f4f6; }
.dark #task-counter { color: #9ca3af; }
.dark input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1); }
.dark #category-modal > div, .dark #task-modal > div, .dark #export-modal > div { background-color: #1f2937; }
.dark #category-modal input[type="text"], .dark #category-modal select { background-color: #374151; border-color: #4b5563; color: #f3f4f6; }
.dark #category-modal input[type="text"]::placeholder { color: #9ca3af; }
.dark #task-modal input[type="text"], .dark #task-modal select, .dark #task-modal input[type="date"] { background-color: #374151; border-color: #4b5563; color: #f3f4f6; }
.dark #task-modal input[type="text"]::placeholder { color: #9ca3af; }
.dark #task-modal label { color: #e5e7eb; }
.dark .category-item { background-color: #374151; }
.dark .category-item:hover { background-color: #4b5563; }
.dark .category-item span { color: #e5e7eb; }
.dark .category-default { color: #9ca3af; }
.dark #delete-mode-actions > div { background-color: #7f1d1d; border-color: #991b1b; }
.dark #delete-mode-actions span { color: #fecaca; }
.dark #cancel-task-btn { background-color: #374151; color: #e5e7eb; }
.dark #cancel-task-btn:hover { background-color: #4b5563; }
.dark #export-modal button { background-color: #374151; }
.dark #export-modal button:hover { background-color: #4b5563; }
.dark #export-modal h3 { color: #e5e7eb; }
.dark #export-modal p { color: #9ca3af; }
.dark #export-modal .bg-blue-50 { background-color: #1e3a5f; }
.dark #export-modal .text-blue-800 { color: #93c5fd; }

.delete-mode #delete-mode-btn { background-color: #fee2e2; color: #b91c1c; }
.delete-mode .dark #delete-mode-btn { background-color: #7f1d1d; color: #fecaca; }
.delete-mode .task-item { cursor: pointer; }
.delete-mode .task-item:hover { border-color: #ef4444; }
.task-item.selected-for-delete { background-color: #fee2e2 !important; border: 2px solid #ef4444; }
.dark .task-item.selected-for-delete { background-color: #7f1d1d !important; }

#completed-section h2 button {
    outline: none;
}
#completed-section h2 button:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 0.25rem;
}

#completed-tasks {
    transition: all 0.3s ease-in-out;
}
#completed-tasks.hidden {
    opacity: 0;
    height: 0;
    overflow: hidden;
}

.edit-button {
    opacity: 0;
    transition: opacity 0.2s;
}
.group:hover .edit-button {
    opacity: 1;
}

.priority-high { color: #ef4444; }
.priority-medium { color: #eab308; }
.priority-low { color: #3b82f6; }

.category-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.125rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
}

.task-with-category {
    position: relative;
    overflow: hidden;
}

.task-category-bg {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
}

.past-due-indicator {
    animation: pulse-red 2s infinite;
}

@keyframes pulse-red {
    0% { color: #ef4444; }
    50% { color: #dc2626; }
    100% { color: #ef4444; }
}

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #f3f4f6; }
::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
.dark ::-webkit-scrollbar-track { background: #1f2937; }
.dark ::-webkit-scrollbar-thumb { background: #4b5563; }
.dark ::-webkit-scrollbar-thumb:hover { background: #6b7280; }

body, header, .task-item, #new-task-input, #new-task-date, #new-task-category, #new-task-priority, #category-modal > div {
    transition: background-color 0.2s, border-color 0.2s, color 0.2s;
}